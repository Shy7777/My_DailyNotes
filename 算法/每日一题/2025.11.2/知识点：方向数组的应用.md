### **核心摘要**  
**方向数组是一个存储坐标偏移量的列表，用于简洁地遍历上下左右（或更多方向）的相邻格子**，避免重复写四次相似的代码。

---

### **详细解析**  

#### 1. **为什么需要方向数组？**
在网格问题中（如本题），经常需要向 **四个方向（上、下、左、右）** 移动。  
- **不用方向数组**：需写四次几乎相同的代码：
  ```python
  # 向右
  new_r, new_c = r, c + 1
  # 向下
  new_r, new_c = r + 1, c
  # 向左
  new_r, new_c = r, c - 1
  # 向上
  new_r, new_c = r - 1, c
  ```
- **用方向数组**：只需一个循环：
  ```python
  directions = [(0,1), (1,0), (0,-1), (-1,0)]
  for dr, dc in directions:
      new_r, new_c = r + dr, c + dc
  ```

#### 2. **方向数组的含义**
每个元组 `(dr, dc)` 表示 **行和列的偏移量**：
| 方向 | `dr`（行变化） | `dc`（列变化） | 元组       |
|------|----------------|----------------|------------|
| 右   | `0`            | `+1`           | `(0, 1)`   |
| 下   | `+1`           | `0`            | `(1, 0)`   |
| 左   | `0`            | `-1`           | `(0, -1)`  |
| 上   | `-1`           | `0`           | `(-1, 0)`  |

> 🌰 **例子**：当前在 `(2,3)`，向右移动 → `(2+0, 3+1) = (2,4)`

#### 3. **在本题中的应用**
警卫需要向四个方向延伸视线，方向数组让代码更简洁：
```python
directions = [(0,1), (1,0), (0,-1), (-1,0)]  # 右、下、左、上
for r, c in guards:
    for dr, dc in directions:  # 遍历四个方向
        nr, nc = r + dr, c + dc  # 第一步
        while 0 <= nr < m and 0 <= nc < n:  # 沿该方向持续前进
            if grid[nr][nc] in ['W', 'G']: 
                break  # 遇到阻挡停止
            grid[nr][nc] = 1  # 标记为被保卫
            nr += dr  # 继续沿同一方向移动
            nc += dc
```

---

### **前置知识**  
**坐标系与网格**：  
- 网格通常用二维数组表示，`grid[r][c]` 中 `r` 是行号（从上到下递增），`c` 是列号（从左到右递增）。
- **偏移量（Offset）**：描述从当前位置到相邻位置的变化量。

---

### **常见误区与澄清**  
1. **误区**：方向数组的顺序会影响结果  
   → **正解**：顺序无关（右/下/左/上 或 上/右/下/左均可），只要覆盖四个方向。

2. **误区**：方向数组只能用于四个方向  
   → **正解**：可扩展至八方向（如加上 `(1,1)`, `(-1,1)` 等对角线方向）。

3. **误区**：必须用元组存储方向  
   → **正解**：也可用列表（如 `[0,1]`），但元组更轻量且不可变。

---

### **现实类比**  
想象你站在地图上的某个点，方向数组就像你的 **“移动指令手册”**：  
- 手册第一页写：“向东走 1 步” → `(0, +1)`  
- 第二页：“向南走 1 步” → `(+1, 0)`  
- ...  
每次按手册执行一个指令，就能系统性地探索所有方向。

---

### **其他常见方向数组变体**
| 场景         | 方向数组                                      |
|--------------|---------------------------------------------|
| 四方向       | `[(0,1), (1,0), (0,-1), (-1,0)]`           |
| 八方向       | `[(0,1),(1,0),(0,-1),(-1,0),(1,1),(-1,-1),(1,-1),(-1,1)]` |
| 仅上下左右   | 同四方向                                    |
| 螺旋方向     | `[(0,1), (1,0), (0,-1), (-1,0)]`（配合转向逻辑） |

掌握方向数组后，网格类问题的代码会变得更清晰高效！
